<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client Dashboard - ConsultHub</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-handshake"></i>
                <h1>ConsultHub</h1>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="#" class="nav-link" onclick="showBookings()">My Bookings</a></li>
                <li><a href="#" class="nav-link" onclick="showConsultants()">Find Consultants</a></li>
                <li><a href="#" class="nav-link" onclick="showMessages()">Messages</a></li>
                <li><a href="#" class="nav-link btn-register" onclick="logout()">Logout</a></li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <div class="dashboard">
        <div class="dashboard-header">
            <h2>Welcome back, <span id="clientName">Client</span>!</h2>
            <p>Manage your consultations and connect with experts</p>
        </div>

        <div class="dashboard-grid">
            <div class="dashboard-card">
                <h3>Upcoming Consultations</h3>
                <div id="upcomingBookings">
                    <!-- Bookings will be populated by JavaScript -->
                    <p class="no-data">No upcoming consultations</p>
                </div>
            </div>

            <div class="dashboard-card">
                <h3>Quick Actions</h3>
                <div class="quick-actions">
                    <button class="btn-primary" onclick="window.location.href='index.html#consultantsSection'">
                        <i class="fas fa-search"></i> Find Consultants
                    </button>
                    <button class="btn-secondary" onclick="showMessages()">
                        <i class="fas fa-envelope"></i> View Messages
                    </button>
                    <button class="btn-secondary" onclick="showPaymentHistory()">
                        <i class="fas fa-history"></i> Payment History
                    </button>
                </div>
            </div>

            <div class="dashboard-card">
                <h3>Recent Consultants</h3>
                <div id="recentConsultants">
                    <!-- Recent consultants will be populated -->
                </div>
            </div>

            <div class="dashboard-card">
                <h3>Messages</h3>
                <div id="recentMessages">
                    <div class="message">
                        <strong>Dr. Sarah Johnson:</strong>
                        <p>Looking forward to our consultation tomorrow!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            if (!user || user.type !== 'client') {
                window.location.href = 'index.html';
                return;
            }
            
            document.getElementById('clientName').textContent = user.name;
            
            // Load user's bookings
            loadBookings();
            
            // Initialize hamburger menu
            const hamburger = document.querySelector('.hamburger');
            const navMenu = document.querySelector('.nav-menu');
            
            hamburger.addEventListener('click', () => {
                hamburger.classList.toggle('active');
                navMenu.classList.toggle('active');
            });
        });

        function loadBookings() {
            // This would normally come from the database
            const bookings = [
                {
                    id: 1,
                    consultantName: "Dr. Sarah Johnson",
                    date: "2024-01-15",
                    time: "14:00",
                    status: "confirmed"
                },
                {
                    id: 2,
                    consultantName: "Michael Chen",
                    date: "2024-01-18",
                    time: "10:00",
                    status: "pending"
                }
            ];

            const container = document.getElementById('upcomingBookings');
            if (bookings.length === 0) {
                container.innerHTML = '<p class="no-data">No upcoming consultations</p>';
                return;
            }

            container.innerHTML = bookings.map(booking => `
                <div class="booking-item">
                    <h4>${booking.consultantName}</h4>
                    <p><i class="fas fa-calendar"></i> ${booking.date} at ${booking.time}</p>
                    <span class="status ${booking.status}">${booking.status}</span>
                    <button class="btn-secondary" onclick="viewBooking(${booking.id})">View Details</button>
                </div>
            `).join('');
        }

        function showBookings() {
            alert('Showing all bookings');
        }

        function showMessages() {
            alert('Messages feature would open here');
        }

        function showPaymentHistory() {
            alert('Payment history would show here');
        }

        function viewBooking(id) {
            alert(`Viewing booking #${id}`);
        }

        function logout() {
            localStorage.removeItem('currentUser');
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>